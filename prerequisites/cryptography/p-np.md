# P/NPとは？

# PとNPとは？
PはPolynomial timeを表し、NPはNon-deterministic Polynomial timeを表します。
以下のような関係があり、この章では以下の画像についての関係性を説明します。
簡単に説明すると、P問題は解くのも検証も簡単で、NP問題は解くのは難しいが検証は簡単な問題です。

![P/NP](../../images/sample.png)

## Pとは？

Pとは、**多項式時間で解ける問題**のことです。簡単に言えば、「コンピュータが効率的に解ける問題」ということです。例えば、数のソート（並べ替え）や最短経路を見つける問題などがPに含まれます。

多項式時間とは、問題を解くために必要な計算ステップ数が、入力のサイズに対して多項式的に増加することを意味します。例えば、入力のサイズを \( n \) としたとき、計算量が \( n^2 \) や \( n^3 \) のように増えるなら、それは多項式時間です。このような問題は、現代のコンピュータで十分な時間内に解けると考えられます。

## NPとは？

NPとは、**多項式時間で解が検証できる問題**のことです。つまり、「答えが与えられたとき、それを効率的にチェックできる問題」です。重要なポイントは、解を見つけるのが難しくても、その解が正しいかどうかをチェックするのは簡単であるということです。

例えば大きい素数の積は、その因数を探すのは時間がかかりますが、それが本当に因数になっているかは割り算1回で済むので検証は簡単です。
このような問題をNP問題と呼びます。

チェックが簡単かどうかだけを指定しているため、問題を解くのが簡単かどうかを問わないので、P問題はNP問題に包含しています。

## NP完全問題

さらに難しい概念として、**NP完全問題**というものがあります。これは、NPに属する問題の中でも特に難しいと考えられている問題です。
全てのNP問題はNP完全問題に変換することができます。

全てのNP問題を変換できることをどうやって証明するのかという問題に関して、細かい説明は割愛しますが概ね以下のような流れです。

1. SAT問題はCook Levinの定理より、NP完全である
2. NP完全問題を変換した問題はNP完全問題である
3. SAT問題を変換した問題はNP完全である

以上のことを繰り返し、任意のNP完全から変換された問題は全てNP完全であると証明ができます。

#### 例
例えば、有名な**巡回セールスマン問題**（TSP）はNP完全問題の一例です。セールスマンが複数の都市を最短距離で回る経路を見つけるという問題で、全ての都市を効率的に巡回する最適な順番を見つけることは非常に難しいです。

## NP困難
NP完全問題自体はNPですが、任意のNP問題を全て変換できる問題の中にはNPでないものあります。
これをNP困難と呼びます。

つまり、NP困難の中で、NPのものをNP完全と呼びます。
非常に名前が分かりづらいですが、NP困難自体はNPである必要がありません。



## その他
### PとNPの関係

PとNPの関係については、次のような疑問があります。

**P = NP なのか？**

この疑問は、Pに属するすべての問題がNPにも属するということは明らかですが、NPに属する問題がすべてPに属するかどうかがわかっていない、というものです。もし**P = NP**が証明されれば、今まで非常に難しいとされてきた問題も効率的に解くアルゴリズムが見つかることになります。

逆に、**P ≠ NP**であることが証明されれば、現在の技術では効率的に解くことが不可能な問題が存在することがわかります。この問題が解決すれば、暗号技術の安全性にも大きな影響を与えることになります。

ここでなぜNP完全が大事かというのがわかるかと思います。何故ならNP完全は任意のNP問題を全て変換できるため、NP完全の問題どれでも良いから1つの中で**P = NP**が証明されれば、任意のP, NPにおいて**P = NP**であると言えるわけです。

### PSPACE
Polynomial SPACEのことで、多項式**領域**で解ける決定性問題のことです。
つまり、問題を解くのに必要なメモリ領域が多項式倍数に収まる問題のことです。（この際に解くのに必要な時間は問いません。）
P, NP問題は時間に注目した問題に対し、PSPACEは計算資源に対する問題です。


